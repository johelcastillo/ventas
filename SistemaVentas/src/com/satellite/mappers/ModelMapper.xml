<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
  'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>

<mapper namespace='com.satellite.dao.ModelDao'>


	<select id='getModel' resultMap='rmModel'>
		SELECT * FROM MODEL
		WHERE id_model=#{id}	
	</select>
	
	
	<resultMap type='Model' id='rmModel'>
		<id property='id_model' column='id_model' />
		<result property='name_model' column='name_model' />
		<result property='description_model' column='description_model' />
	</resultMap>
	
	
	
	<select id='getAllModel' resultMap='rmModel'>
		SELECT * FROM MODEL
	</select>
	
	<insert id='insertModel' parameterType="Model">
	<selectKey keyProperty="id_model" resultType="int" order="BEFORE" >
    SELECT COALESCE(MAX(ID_MODEL),0)+1 FROM MODEL
  </selectKey>
		INSERT INTO MODEL(id_model ,name_model, description_model)
		VALUES(#{id_model},#{name_model}, #{description_model})
	</insert>


	<delete id='deleteModel'>
		DELETE FROM MODEL WHERE ID_MODEL = #{id}
	</delete>

</mapper>